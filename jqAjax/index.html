<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button class="get">send get request</button>
    <button class="post">send post request</button>
    <button class="ajax">send ajax request</button>
    <div class="content"></div>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js"
      integrity="sha512-n/4gHW3atM3QqRcbCn6ewmpxcLAHGaDjpEBu4xZd47N0W2oQ+6q7oc3PXstrJYXcbNU1OHdQ1T7pAP+gi5Yu8g=="
      crossorigin="anonymous"
    ></script>
    <script>
      $(".get").click(function () {
        //get請求
        $.get(
          "http://127.0.0.1:8000/",
          { a: 100, b: 200 },
          function (data) {
            //data是響應體
            console.log(data); //{ msg: "hello it's a get request" }
          },
          "json" //響應體為json
        );
      });

      $(".post").click(function () {
        //post請求
        $.post("http://127.0.0.1:8000/", { a: 100, b: 200 }, function (data) {
          //data是響應體
          console.log(data); //"it's a post request!"
        });
      });

      $(".ajax").click(function () {
        //通用方法
        $.ajax({
          //url
          url: "http://127.0.0.1:8000/",
          //參數
          data: {
            a: 100,
            b: 200,
          },
          //請求類型
          type: "GET",

          //響應體結果(不是必要)
          dataType: "json",

          //成功的回調
          success: function (data) {
            console.log(data);
          },

          //超時時間
          timeout: 2000,

          //失敗的回調（超時或網路問題時執行）
          error: function () {
            console.log("有問題");
          },
        });
      });
    </script>
  </body>
</html>
